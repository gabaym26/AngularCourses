{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Category } from '../../categories/category.model';\nexport let AddCourseComponent = class AddCourseComponent {\n  constructor(_userService) {\n    this._userService = _userService;\n    this.categories = [new Category(1, \"j\", \"hjj\"), new Category(2, \"jD\", \"TT\"), new Category(3, \"j33\", \"hjj4\")];\n    this.inputs = ['']; // מערך שמכיל את תיבות הקלט, מתחיל עם תיבה ריקה בהתחלה\n    this.l = this.inputs.length;\n    this.courseForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      startDate: new FormControl('', [Validators.required]),\n      image: new FormControl('', [Validators.required]),\n      courseSyllabus: new FormControl(this.inputs),\n      lessonsAmount: new FormControl(this.inputs.length - 1, [Validators.required]),\n      lecturerId: new FormControl(JSON.parse(sessionStorage.getItem('userName'))),\n      learningWay: new FormControl('', [Validators.required]),\n      categoryId: new FormControl('', [Validators.required])\n    });\n  }\n  onInput(event, index) {\n    const target = event.target;\n    const value = target.value.trim();\n    if (value && index === this.inputs.length - 1) {\n      this.inputs.push(value);\n    } else if (!value && index < this.inputs.length - 1) {\n      this.inputs.splice(index + 1, 1);\n    }\n    this.l = this.inputs.length;\n    // else if(value){ this.inputs[index]=value}\n    console.log(this.inputs);\n  }\n  saveNewCourse() {\n    this._userService.addUser(userToAdd).subscribe(s => {\n      console.log(\"s\", s);\n      if (s == true) this._router.navigate(['/allCourses']);else alert(\"false\");\n    });\n  }\n};\nAddCourseComponent = __decorate([Component({\n  selector: 'app-add-course',\n  templateUrl: './add-course.component.html',\n  styleUrls: ['./add-course.component.scss']\n})], AddCourseComponent);","map":{"version":3,"names":["Component","FormControl","FormGroup","Validators","Category","AddCourseComponent","constructor","_userService","categories","inputs","l","length","courseForm","name","required","minLength","startDate","image","courseSyllabus","lessonsAmount","lecturerId","JSON","parse","sessionStorage","getItem","learningWay","categoryId","onInput","event","index","target","value","trim","push","splice","console","log","saveNewCourse","addUser","userToAdd","subscribe","s","_router","navigate","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["F:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\Courses\\add-course\\add-course.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { LearningWay } from '../course.model';\nimport { Category } from '../../categories/category.model';\n@Component({\n  selector: 'app-add-course',\n  templateUrl: './add-course.component.html',\n  styleUrls: ['./add-course.component.scss']\n})\nexport class AddCourseComponent {\n  categories: Category[] = [new Category(1, \"j\", \"hjj\"),new Category(2, \"jD\", \"TT\"),new Category(3, \"j33\", \"hjj4\")]; \n   courseForm: FormGroup;\n  name?:string;\n  learningWay?:LearningWay;\n  constructor(private _userService: UserService) {\n    this.courseForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      startDate: new FormControl('', [Validators.required]),\n      image: new FormControl('', [Validators.required]),\n      courseSyllabus: new FormControl(this.inputs),\n      lessonsAmount:new FormControl(this.inputs.length-1,[Validators.required]),\n      lecturerId:new FormControl(JSON.parse(sessionStorage.getItem('userName')!)), \n      learningWay:new FormControl('',[Validators.required]),\n      categoryId:new FormControl('',[Validators.required])\n    });\n  }\n  inputs: string[] = ['']; // מערך שמכיל את תיבות הקלט, מתחיל עם תיבה ריקה בהתחלה\n   l:number=this.inputs.length;\n  onInput(event: Event, index: number): void {\n    const target = event.target as HTMLInputElement;\n    const value = target.value.trim();\n\n    if (value && index === this.inputs.length - 1) {\n      this.inputs.push(value);\n    } else if (!value && index < this.inputs.length - 1) {\n      this.inputs.splice(index + 1, 1);\n     }\n     this.l=this.inputs.length;\n    // else if(value){ this.inputs[index]=value}\n    console.log(this.inputs)\n  }\n  saveNewCourse(){\n    this._userService.addUser(userToAdd).subscribe(s => {\n      console.log(\"s\", s);\n      if (s == true)\n        this._router.navigate(['/allCourses']);\n      else\n        alert(\"false\");\n    })\n  }\n \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}