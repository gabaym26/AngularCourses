{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport Swal from 'sweetalert2';\nexport let LoginComponent = class LoginComponent {\n  constructor(_userService, router) {\n    this._userService = _userService;\n    this.router = router;\n    this.users = [];\n    this.usersForm = new FormGroup({\n      name: new FormControl(''),\n      password: new FormControl('')\n    });\n  }\n  ngOnInit() {\n    this._userService.getUsersFromServer().subscribe(data => {\n      this.users = data;\n      console.log(\"users:\", this.users);\n    });\n  }\n  checkUser() {\n    const name = this.usersForm.value.name;\n    const password = this.usersForm.value.password;\n    // Check if the user exists in the array of all users\n    const user = this.users.find(user => user.name === name);\n    // Display alert based on whether the user exists or not\n    if (user) {\n      // If user exists, check if the password is correct\n      if (user.password === password) {\n        sessionStorage.setItem('userData', JSON.stringify(user));\n        this.router.navigate(['/allCourses']);\n      } else {\n        Swal.fire('Error', 'Wrong Password', 'error');\n      }\n    } else {\n      // If user does not exist, navigate to the register component\n      this.router.navigate(['/register'], {\n        queryParams: {\n          userName: name\n        }\n      });\n    }\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);","map":{"version":3,"names":["Component","FormGroup","FormControl","Swal","LoginComponent","constructor","_userService","router","users","usersForm","name","password","ngOnInit","getUsersFromServer","subscribe","data","console","log","checkUser","value","user","find","sessionStorage","setItem","JSON","stringify","navigate","fire","queryParams","userName","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\login\\login.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { User } from '../users/user.model';\nimport { UserService } from '../users/user.service';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  users: User[] = [];\n  usersForm: FormGroup;\n\n  constructor(private _userService: UserService, private router: Router) {\n    this.usersForm = new FormGroup({\n      name: new FormControl(''),\n      password: new FormControl('')\n    });\n  }\n\n  ngOnInit(): void {\n    this._userService.getUsersFromServer().subscribe(data => {\n      this.users = data;\n      console.log(\"users:\", this.users);\n    });\n  }\n\n  checkUser() {\n    const name = this.usersForm.value.name;\n    const password = this.usersForm.value.password;\n\n    // Check if the user exists in the array of all users\n    const user = this.users.find(user => user.name === name);\n\n    // Display alert based on whether the user exists or not\n    if (user) {\n      // If user exists, check if the password is correct\n      if (user.password === password) {\n        sessionStorage.setItem('userData', JSON.stringify(user));\n        this.router.navigate(['/allCourses']);\n      } else {\n        Swal.fire('Error', 'Wrong Password', 'error');\n      }\n    } else {\n      // If user does not exist, navigate to the register component\n      this.router.navigate(['/register'], { queryParams: { userName: name } });\n    }\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAGjD,SAASC,SAAS,EAAEC,WAAW,QAAQ,gBAAgB;AAEvD,OAAOC,IAAI,MAAM,aAAa;AAOvB,WAAMC,cAAc,GAApB,MAAMA,cAAc;EAIzBC,YAAoBC,YAAyB,EAAUC,MAAc;IAAjD,KAAAD,YAAY,GAAZA,YAAY;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAH7D,KAAAC,KAAK,GAAW,EAAE;IAIhB,IAAI,CAACC,SAAS,GAAG,IAAIR,SAAS,CAAC;MAC7BS,IAAI,EAAE,IAAIR,WAAW,CAAC,EAAE,CAAC;MACzBS,QAAQ,EAAE,IAAIT,WAAW,CAAC,EAAE;KAC7B,CAAC;EACJ;EAEAU,QAAQA,CAAA;IACN,IAAI,CAACN,YAAY,CAACO,kBAAkB,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MACtD,IAAI,CAACP,KAAK,GAAGO,IAAI;MACjBC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACT,KAAK,CAAC;IACnC,CAAC,CAAC;EACJ;EAEAU,SAASA,CAAA;IACP,MAAMR,IAAI,GAAG,IAAI,CAACD,SAAS,CAACU,KAAK,CAACT,IAAI;IACtC,MAAMC,QAAQ,GAAG,IAAI,CAACF,SAAS,CAACU,KAAK,CAACR,QAAQ;IAE9C;IACA,MAAMS,IAAI,GAAG,IAAI,CAACZ,KAAK,CAACa,IAAI,CAACD,IAAI,IAAIA,IAAI,CAACV,IAAI,KAAKA,IAAI,CAAC;IAExD;IACA,IAAIU,IAAI,EAAE;MACR;MACA,IAAIA,IAAI,CAACT,QAAQ,KAAKA,QAAQ,EAAE;QAC9BW,cAAc,CAACC,OAAO,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;QACxD,IAAI,CAACb,MAAM,CAACmB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;OACtC,MAAM;QACLvB,IAAI,CAACwB,IAAI,CAAC,OAAO,EAAE,gBAAgB,EAAE,OAAO,CAAC;;KAEhD,MAAM;MACL;MACA,IAAI,CAACpB,MAAM,CAACmB,QAAQ,CAAC,CAAC,WAAW,CAAC,EAAE;QAAEE,WAAW,EAAE;UAAEC,QAAQ,EAAEnB;QAAI;MAAE,CAAE,CAAC;;EAE5E;CAED;AAxCYN,cAAc,GAAA0B,UAAA,EAL1B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACW7B,cAAc,CAwC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}