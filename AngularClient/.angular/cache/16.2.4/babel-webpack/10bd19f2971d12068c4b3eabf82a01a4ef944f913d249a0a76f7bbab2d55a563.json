{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class UserService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `https://localhost:7115/`;\n  }\n  deleteStudent(student) {\n    return this.http.delete(`/api/Students/${student}`);\n  }\n  putStudents(student) {\n    this.getStudents().subscribe(s => this.st = s, err => console.log(\"err\"));\n    let index = this.st ? this.st?.findIndex(s => student?.id == s.id) : -1;\n    if (index ? index > -1 : -1) {\n      this.st?.splice(index ? index : -1);\n      return this.http.put(`/api/Student/${index}`, student);\n    } else {\n      return this.addStudents(student);\n    }\n  }\n  addStudents(student) {\n    return this.http.post(\"/api/Student\", student);\n  }\n  getUsers() {\n    return this.http.get(this.apiUrl + \"/api/users\");\n  }\n  getStudentsActive(active) {\n    return this.http.get(`/api/Student/${active}`);\n  }\n  static #_ = this.ɵfac = function UserService_Factory(t) {\n    return new (t || UserService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: UserService,\n    factory: UserService.ɵfac\n  });\n}","map":{"version":3,"names":["UserService","constructor","http","apiUrl","deleteStudent","student","delete","putStudents","getStudents","subscribe","s","st","err","console","log","index","findIndex","id","splice","put","addStudents","post","getUsers","get","getStudentsActive","active","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac"],"sources":["C:\\Users\\IMOE001\\Documents\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\users\\user.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/internal/Observable\";\r\nimport {HttpClient}from '@angular/common/http';\r\nimport { User } from \"./user.model\";\r\n@Injectable()\r\nexport class UserService {\r\n    apiUrl:string=`https://localhost:7115/`;\r\n   constructor(private http:HttpClient){\r\n\r\n   }\r\n \r\n   deleteStudent(student: Student | undefined): Observable<boolean>{\r\n      return this.http.delete<boolean>(`/api/Students/${student}`);\r\n    };\r\n   st:Student[]|undefined;\r\n   putStudents(student: Student | undefined): Observable<boolean>{\r\n      this.getStudents().subscribe(s=>this.st=s,err=>console.log(\"err\"));\r\n      let index = this.st?this.st?.findIndex(s => student?.id == s.id) : -1;\r\n      if (index?index > -1:-1) {\r\n         this.st?.splice(index?index:-1);\r\n         return this.http.put<boolean>(`/api/Student/${index}`,student);\r\n      }   \r\n      else{\r\n         return this.addStudents(student);\r\n      }\r\n   };\r\n   addStudents(student: Student | undefined): Observable<boolean>{\r\n     return this.http.post<boolean>(\"/api/Student\",student);\r\n   };\r\n   getUsers(): Observable<User[]>{\r\n      return this.http.get<User[]>(this.apiUrl+\"/api/users\");\r\n    };\r\n    getStudentsActive(active:boolean): Observable<Student[]>{\r\n      return this.http.get<Student[]>(`/api/Student/${active}`);\r\n    };\r\n \r\n}\r\n"],"mappings":";;AAKA,OAAM,MAAOA,WAAW;EAErBC,YAAoBC,IAAe;IAAf,KAAAA,IAAI,GAAJA,IAAI;IADvB,KAAAC,MAAM,GAAQ,yBAAyB;EAGxC;EAEAC,aAAaA,CAACC,OAA4B;IACvC,OAAO,IAAI,CAACH,IAAI,CAACI,MAAM,CAAU,iBAAiBD,OAAO,EAAE,CAAC;EAC9D;EAEDE,WAAWA,CAACF,OAA4B;IACrC,IAAI,CAACG,WAAW,EAAE,CAACC,SAAS,CAACC,CAAC,IAAE,IAAI,CAACC,EAAE,GAACD,CAAC,EAACE,GAAG,IAAEC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAAC;IAClE,IAAIC,KAAK,GAAG,IAAI,CAACJ,EAAE,GAAC,IAAI,CAACA,EAAE,EAAEK,SAAS,CAACN,CAAC,IAAIL,OAAO,EAAEY,EAAE,IAAIP,CAAC,CAACO,EAAE,CAAC,GAAG,CAAC,CAAC;IACrE,IAAIF,KAAK,GAACA,KAAK,GAAG,CAAC,CAAC,GAAC,CAAC,CAAC,EAAE;MACtB,IAAI,CAACJ,EAAE,EAAEO,MAAM,CAACH,KAAK,GAACA,KAAK,GAAC,CAAC,CAAC,CAAC;MAC/B,OAAO,IAAI,CAACb,IAAI,CAACiB,GAAG,CAAU,gBAAgBJ,KAAK,EAAE,EAACV,OAAO,CAAC;KAChE,MACG;MACD,OAAO,IAAI,CAACe,WAAW,CAACf,OAAO,CAAC;;EAEtC;EACAe,WAAWA,CAACf,OAA4B;IACtC,OAAO,IAAI,CAACH,IAAI,CAACmB,IAAI,CAAU,cAAc,EAAChB,OAAO,CAAC;EACxD;EACAiB,QAAQA,CAAA;IACL,OAAO,IAAI,CAACpB,IAAI,CAACqB,GAAG,CAAS,IAAI,CAACpB,MAAM,GAAC,YAAY,CAAC;EACxD;EACAqB,iBAAiBA,CAACC,MAAc;IAC9B,OAAO,IAAI,CAACvB,IAAI,CAACqB,GAAG,CAAY,gBAAgBE,MAAM,EAAE,CAAC;EAC3D;EAAC,QAAAC,CAAA,G;qBA7BQ1B,WAAW,EAAA2B,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;WAAX/B,WAAW;IAAAgC,OAAA,EAAXhC,WAAW,CAAAiC;EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}