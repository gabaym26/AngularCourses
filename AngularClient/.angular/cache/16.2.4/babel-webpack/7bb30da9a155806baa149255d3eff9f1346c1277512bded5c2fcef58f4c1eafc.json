{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../edit-course/edit-course.component\";\nfunction CourseDetailsComponent_li_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const c_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", c_r3, \" \");\n  }\n}\nfunction CourseDetailsComponent_edit_course_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"edit-course\", 9);\n  }\n}\nfunction CourseDetailsComponent_a_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵtext(1, \"Update Details\");\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nexport class CourseDetailsComponent {\n  constructor() {}\n  ngOnInit() {\n    // Assuming course data is fetched or assigned somewhere\n    this.checkStartDate();\n    const storedData = sessionStorage.getItem('userData');\n    if (storedData) {\n      this.currentUser = JSON.parse(storedData);\n      console.log(\"current user:\", this.currentUser);\n    }\n  }\n  checkStartDate() {\n    if (this.course?.startDate) {\n      const start = new Date(this.course.startDate);\n      const today = new Date();\n      const nextWeek = new Date();\n      nextWeek.setDate(today.getDate() + 7); // Get date for the start of the next week\n      // Check if startDate is in the next week\n      this.isStartDateInNextWeek = start <= nextWeek && start >= today;\n      console.log(\"start\", this.isStartDateInNextWeek);\n    }\n  }\n  static #_ = this.ɵfac = function CourseDetailsComponent_Factory(t) {\n    return new (t || CourseDetailsComponent)();\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CourseDetailsComponent,\n    selectors: [[\"app-course-details\"]],\n    inputs: {\n      course: \"course\"\n    },\n    decls: 17,\n    vars: 13,\n    consts: [[1, \"card\", 2, \"width\", \"400px\", 3, \"ngClass\"], [\"alt\", \"Card image\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [1, \"card-text\", \"list-group\"], [\"class\", \"list-group-item\", 4, \"ngFor\", \"ngForOf\"], [3, \"course\", 4, \"ngIf\"], [\"href\", \"#\", \"class\", \"btn btn-primary\", 4, \"ngIf\"], [1, \"list-group-item\"], [3, \"course\"], [\"href\", \"#\", 1, \"btn\", \"btn-primary\"]],\n    template: function CourseDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelement(1, \"img\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"h4\", 3);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\");\n        i0.ɵɵtext(6, \"lesson's amount\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"ul\", 4);\n        i0.ɵɵtext(10, \" The syllabus is : \");\n        i0.ɵɵtemplate(11, CourseDetailsComponent_li_11_Template, 2, 1, \"li\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\");\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(15, CourseDetailsComponent_edit_course_15_Template, 1, 0, \"edit-course\", 6);\n        i0.ɵɵtemplate(16, CourseDetailsComponent_a_16_Template, 2, 0, \"a\", 7);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, ctx.isStartDateInNextWeek));\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.course == null ? null : ctx.course.image, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.course == null ? null : ctx.course.name);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.course == null ? null : ctx.course.lessonsAmount);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.course == null ? null : ctx.course.courseSyllabus);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(14, 8, ctx.course == null ? null : ctx.course.startDate, \"shortDate\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser.id == (ctx.course == null ? null : ctx.course.lecturerId));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser.id == (ctx.course == null ? null : ctx.course.lecturerId));\n      }\n    },\n    dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.EditCourseComponent, i1.DatePipe],\n    styles: [\".active[_ngcontent-%COMP%] {\\n  background-color: yellow;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbW9kdWxlcy9Db3Vyc2VzL2NvdXJzZS1kZXRhaWxzL2NvdXJzZS1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIiwid2VicGFjazovLy4vLi4vLi4vLi4vLi4vJUQ3JTlFJUQ3JTk5JUQ3JTlCJUQ3JTlDJTIwJUQ3JTkyJUQ3JTkxJUQ3JTkwJUQ3JTk5LyVENyVBQSVENyU5QiVENyVBMCVENyU5NSVENyVBQS8lRDclOTAlRDclQTAlRDclOTIlRDclOTUlRDclOUMlRDclQTgvZmlyc3RQcm9qZWN0L3NyYy9hcHAvbW9kdWxlcy9Db3Vyc2VzL2NvdXJzZS1kZXRhaWxzL2NvdXJzZS1kZXRhaWxzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7QUNDSiIsInNvdXJjZXNDb250ZW50IjpbIi5hY3RpdmV7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOnllbGxvdyA7XHJcbn0iLCIuYWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","c_r3","ɵɵelement","CourseDetailsComponent","constructor","ngOnInit","checkStartDate","storedData","sessionStorage","getItem","currentUser","JSON","parse","console","log","course","startDate","start","Date","today","nextWeek","setDate","getDate","isStartDateInNextWeek","_","_2","selectors","inputs","decls","vars","consts","template","CourseDetailsComponent_Template","rf","ctx","ɵɵtemplate","CourseDetailsComponent_li_11_Template","CourseDetailsComponent_edit_course_15_Template","CourseDetailsComponent_a_16_Template","ɵɵproperty","ɵɵpureFunction1","_c0","ɵɵpropertyInterpolate","image","ɵɵsanitizeUrl","ɵɵtextInterpolate","name","lessonsAmount","courseSyllabus","ɵɵpipeBind2","id","lecturerId"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\Courses\\course-details\\course-details.component.ts","E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\Courses\\course-details\\course-details.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Course } from '../course.model';\nimport { User } from '../../users/user.model';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-course-details',\n  templateUrl: './course-details.component.html',\n  styleUrls: ['./course-details.component.scss']\n})\nexport class CourseDetailsComponent implements OnInit {\n  @Input()\n  course?: Course;\n  \n  currentUser?: User;\n  isStartDateInNextWeek?: boolean;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    // Assuming course data is fetched or assigned somewhere\n    this.checkStartDate();\n    const storedData = sessionStorage.getItem('userData');\n    if (storedData) {\n      this.currentUser = JSON.parse(storedData);\n      console.log(\"current user:\", this.currentUser)\n    }\n  }\n\n  checkStartDate(): void {\n\n    if (this.course?.startDate) {\n      const start = new Date(this.course.startDate);\n      const today = new Date();\n      const nextWeek = new Date();\n      nextWeek.setDate(today.getDate() + 7); // Get date for the start of the next week\n      // Check if startDate is in the next week\n      this.isStartDateInNextWeek = start <= nextWeek && start >= today;\n      console.log(\"start\", this.isStartDateInNextWeek)\n    }\n  }\n}\n","<div class=\"card\" style=\"width:400px\" [ngClass]=\"{'active':isStartDateInNextWeek}\">\n    <img class=\"card-img-top\" src={{course?.image}} alt=\"Card image\">\n    <div class=\"card-body\">\n        <h4 class=\"card-title\">{{course?.name}}</h4>\n       <div>lesson's amount</div>\n       <div>{{course?.lessonsAmount}}</div>\n        <ul class=\"card-text list-group\">\n            The syllabus is :\n            <li *ngFor=\"let c of course?.courseSyllabus\" class=\"list-group-item\">\n\n                {{c}}\n            </li>\n        </ul>\n        <div>{{ course?.startDate | date: 'shortDate' }}</div>\n        <edit-course [course] *ngIf=\"currentUser!.id==course?.lecturerId!\"></edit-course>\n\n        <a href=\"#\" *ngIf=\"currentUser!.id==course?.lecturerId!\" class=\"btn btn-primary\">Update Details</a>\n\n    </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}