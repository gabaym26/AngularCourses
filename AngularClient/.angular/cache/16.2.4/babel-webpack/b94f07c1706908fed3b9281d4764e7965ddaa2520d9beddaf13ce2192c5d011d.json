{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, EventEmitter, Output } from '@angular/core';\nexport let AllCoursesComponent = class AllCoursesComponent {\n  constructor(_courseService, _categoryService, router) {\n    this._courseService = _courseService;\n    this._categoryService = _categoryService;\n    this.router = router;\n    this.courseNumberChanged = new EventEmitter();\n    this.courses = [];\n    this.ALLCOURSES = [];\n    this.categories = [];\n    this.learning = [\"Frontal\", \"Zoom\"];\n  }\n  ngOnInit() {\n    this._courseService.getCoursesFromServer().subscribe(data => {\n      this.ALLCOURSES = data;\n      this.courses = data;\n    });\n    this._categoryService.getCategoriesFromServer().subscribe(data => {\n      this.categories = data;\n      console.log(\"categories\", this.categories);\n    });\n    const storedData = sessionStorage.getItem('userData');\n    if (storedData) {\n      this.currentUser = JSON.parse(storedData);\n      console.log(\"current user:\", this.currentUser);\n    }\n  }\n  selectCourse(c) {\n    this.selectedCourse = c;\n    this.courseNumberChanged.emit();\n    // this.router.navigate(['/courseDetails'], { queryParams: { course: c } });\n  }\n\n  changeCourseName(name) {\n    console.log(\"name\", name);\n    this.courses = this.ALLCOURSES.filter(x => x.name == name.target.value || name.target.value == \"\");\n  }\n  select(e) {\n    this.c = e.target.value;\n    this.categories.forEach(element => {\n      if (element.name == this.c) {\n        this.categoryId = element.id;\n      }\n      this.courses = this.ALLCOURSES.filter(x => this.c == \"\" || x.categoryId == this.categoryId);\n    });\n  }\n  learningWay(e) {\n    let lW = this.learning?.indexOf(e.target.value);\n    this.courses = this.ALLCOURSES.filter(x => e.target.value == \"\" || x.learningWay == lW);\n    // console.log(e.target.value)\n    // console.log(this.courses)\n  }\n};\n\n__decorate([Output()], AllCoursesComponent.prototype, \"courseNumberChanged\", void 0);\nAllCoursesComponent = __decorate([Component({\n  selector: 'app-all-courses',\n  templateUrl: './all-courses.component.html',\n  styleUrls: ['./all-courses.component.scss']\n})], AllCoursesComponent);","map":{"version":3,"names":["Component","EventEmitter","Output","AllCoursesComponent","constructor","_courseService","_categoryService","router","courseNumberChanged","courses","ALLCOURSES","categories","learning","ngOnInit","getCoursesFromServer","subscribe","data","getCategoriesFromServer","console","log","storedData","sessionStorage","getItem","currentUser","JSON","parse","selectCourse","c","selectedCourse","emit","changeCourseName","name","filter","x","target","value","select","e","forEach","element","categoryId","id","learningWay","lW","indexOf","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\Courses\\all-courses\\all-courses.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Course, LearningWay } from '../course.model';\nimport { CourseService } from '../course.service';\nimport { Router } from '@angular/router';\nimport { Category } from '../../categories/category.model';\nimport { CategoryService } from '../../categories/category.service';\nimport { User } from '../../users/user.model';\n\n@Component({\n  selector: 'app-all-courses',\n  templateUrl: './all-courses.component.html',\n  styleUrls: ['./all-courses.component.scss']\n})\nexport class AllCoursesComponent implements OnInit {\n  @Output()\n  courseNumberChanged : EventEmitter<void>=new EventEmitter();\n\n  c?:string;\n  categoryId?:number;\n  selectedCourse?:Course;\n  courses: Course[] = [];\n  ALLCOURSES: Course[] = [];\n  categories: Category[] = [];\n  learning?:string[]=[\"Frontal\",\"Zoom\"];\n  currentUser?:User;\n  constructor(private _courseService :CourseService,private _categoryService:CategoryService,private router: Router) {\n\n  }\n  ngOnInit(): void {\n    this._courseService.getCoursesFromServer().subscribe(data=>{\n      this.ALLCOURSES=data;\n      this.courses=data;\n    })\n    this._categoryService.getCategoriesFromServer().subscribe(data=>{\n      this.categories=data;\n      console.log(\"categories\",this.categories)\n    })\n    const storedData = sessionStorage.getItem('userData');\n    if (storedData) {\n      this.currentUser = JSON.parse(storedData);\n      console.log(\"current user:\", this.currentUser)\n\n    }\n\n  }\n  selectCourse(c: Course) {\n    this.selectedCourse = c;\n    this.courseNumberChanged.emit();\n    // this.router.navigate(['/courseDetails'], { queryParams: { course: c } });\n  }\n\n  changeCourseName(name:any){\n    console.log(\"name\",name)\n    this.courses=this.ALLCOURSES.filter(x=>x.name==name.target.value||name.target.value==\"\")\n  }\n  select(e:any){\n    this.c=e.target.value;\n    this.categories.forEach(element => {\n      if(element.name==this.c){\n        this.categoryId=element.id;\n      }\n      this.courses=this.ALLCOURSES.filter(x=>this.c==\"\"||x.categoryId==this.categoryId)\n    });\n  }\n  learningWay(e:any){\n  let lW=this.learning?.indexOf(e.target.value);\n    this.courses=this.ALLCOURSES.filter(x=>e.target.value==\"\"||x.learningWay==lW)\n    // console.log(e.target.value)\n    // console.log(this.courses)\n  }\n}\n\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,YAAY,EAAUC,MAAM,QAAQ,eAAe;AAahE,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAY9BC,YAAoBC,cAA6B,EAASC,gBAAgC,EAASC,MAAc;IAA7F,KAAAF,cAAc,GAAdA,cAAc;IAAwB,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAVzG,KAAAC,mBAAmB,GAAsB,IAAIP,YAAY,EAAE;IAK3D,KAAAQ,OAAO,GAAa,EAAE;IACtB,KAAAC,UAAU,GAAa,EAAE;IACzB,KAAAC,UAAU,GAAe,EAAE;IAC3B,KAAAC,QAAQ,GAAW,CAAC,SAAS,EAAC,MAAM,CAAC;EAIrC;EACAC,QAAQA,CAAA;IACN,IAAI,CAACR,cAAc,CAACS,oBAAoB,EAAE,CAACC,SAAS,CAACC,IAAI,IAAE;MACzD,IAAI,CAACN,UAAU,GAACM,IAAI;MACpB,IAAI,CAACP,OAAO,GAACO,IAAI;IACnB,CAAC,CAAC;IACF,IAAI,CAACV,gBAAgB,CAACW,uBAAuB,EAAE,CAACF,SAAS,CAACC,IAAI,IAAE;MAC9D,IAAI,CAACL,UAAU,GAACK,IAAI;MACpBE,OAAO,CAACC,GAAG,CAAC,YAAY,EAAC,IAAI,CAACR,UAAU,CAAC;IAC3C,CAAC,CAAC;IACF,MAAMS,UAAU,GAAGC,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC;IACrD,IAAIF,UAAU,EAAE;MACd,IAAI,CAACG,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC;MACzCF,OAAO,CAACC,GAAG,CAAC,eAAe,EAAE,IAAI,CAACI,WAAW,CAAC;;EAIlD;EACAG,YAAYA,CAACC,CAAS;IACpB,IAAI,CAACC,cAAc,GAAGD,CAAC;IACvB,IAAI,CAACnB,mBAAmB,CAACqB,IAAI,EAAE;IAC/B;EACF;;EAEAC,gBAAgBA,CAACC,IAAQ;IACvBb,OAAO,CAACC,GAAG,CAAC,MAAM,EAACY,IAAI,CAAC;IACxB,IAAI,CAACtB,OAAO,GAAC,IAAI,CAACC,UAAU,CAACsB,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACF,IAAI,IAAEA,IAAI,CAACG,MAAM,CAACC,KAAK,IAAEJ,IAAI,CAACG,MAAM,CAACC,KAAK,IAAE,EAAE,CAAC;EAC1F;EACAC,MAAMA,CAACC,CAAK;IACV,IAAI,CAACV,CAAC,GAACU,CAAC,CAACH,MAAM,CAACC,KAAK;IACrB,IAAI,CAACxB,UAAU,CAAC2B,OAAO,CAACC,OAAO,IAAG;MAChC,IAAGA,OAAO,CAACR,IAAI,IAAE,IAAI,CAACJ,CAAC,EAAC;QACtB,IAAI,CAACa,UAAU,GAACD,OAAO,CAACE,EAAE;;MAE5B,IAAI,CAAChC,OAAO,GAAC,IAAI,CAACC,UAAU,CAACsB,MAAM,CAACC,CAAC,IAAE,IAAI,CAACN,CAAC,IAAE,EAAE,IAAEM,CAAC,CAACO,UAAU,IAAE,IAAI,CAACA,UAAU,CAAC;IACnF,CAAC,CAAC;EACJ;EACAE,WAAWA,CAACL,CAAK;IACjB,IAAIM,EAAE,GAAC,IAAI,CAAC/B,QAAQ,EAAEgC,OAAO,CAACP,CAAC,CAACH,MAAM,CAACC,KAAK,CAAC;IAC3C,IAAI,CAAC1B,OAAO,GAAC,IAAI,CAACC,UAAU,CAACsB,MAAM,CAACC,CAAC,IAAEI,CAAC,CAACH,MAAM,CAACC,KAAK,IAAE,EAAE,IAAEF,CAAC,CAACS,WAAW,IAAEC,EAAE,CAAC;IAC7E;IACA;EACF;CACD;;AAvDCE,UAAA,EADC3C,MAAM,EAAE,C,+DACmD;AAFjDC,mBAAmB,GAAA0C,UAAA,EAL/B7C,SAAS,CAAC;EACT8C,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,C,EACW7C,mBAAmB,CAyD/B"},"metadata":{},"sourceType":"module","externalDependencies":[]}