{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let StudentsListComponent = class StudentsListComponent {\n  ngOnInit() {\n    this.sS?.getStudents().subscribe(students => this.students = students, err => {\n      console.log(\"err\");\n    });\n  }\n  constructor(_studentService, _router, acr) {\n    this._studentService = _studentService;\n    this._router = _router;\n    this.acr = acr;\n    this.students = [];\n    this.sS = _studentService;\n  }\n  deleteStudent(student) {\n    let indexOfStudent = this.students.indexOf(student);\n    this.students.splice(indexOfStudent, 1);\n    this.sS?.deleteStudent(student).subscribe(s => console.log(\"succeed\"), err => console.log(\"err\"));\n    if (student == this.selectedStudent) this.selectedStudent = undefined;\n    if (student.id == this.selectedIdStudent) {\n      this.selectedIdStudent = undefined;\n      this.selectedTestList = undefined;\n    }\n  }\n  showStudentByActive(active) {\n    this.sS?.getStudentsActive(active).subscribe(s => this.students = s, err => console.log(\"err\"));\n  }\n  selectS(student) {\n    this._router.navigate([\"/students\", student.id]);\n    this.selectedStudent = student;\n  }\n  details(student) {\n    student.tests != undefined ? this.selectedTestList = student.tests : this.selectedTestList = undefined;\n    this.selectedIdStudent = student.id;\n  }\n  AddStudent() {\n    this.student = {\n      id: 0,\n      name: \"\",\n      phon: \"\",\n      family: \"\",\n      mail: \"\",\n      addres: \"\",\n      avg: 0,\n      active: true\n    };\n    this.selectS(this.student);\n  }\n  addNewStudentToList(student) {\n    this.students.push(student);\n    this.sS?.addStudents(student).subscribe(succeed => alert(\"succeed\"), err => {\n      console.log(\"err\");\n    });\n    this.selectedStudent = undefined;\n  }\n};\nStudentsListComponent = __decorate([Component({\n  selector: 'students-list',\n  templateUrl: './students-list.component.html',\n  styleUrls: ['./students-list.component.scss']\n})], StudentsListComponent);","map":{"version":3,"names":["Component","StudentsListComponent","ngOnInit","sS","getStudents","subscribe","students","err","console","log","constructor","_studentService","_router","acr","deleteStudent","student","indexOfStudent","indexOf","splice","s","selectedStudent","undefined","id","selectedIdStudent","selectedTestList","showStudentByActive","active","getStudentsActive","selectS","navigate","details","tests","AddStudent","name","phon","family","mail","addres","avg","addNewStudentToList","push","addStudents","succeed","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\students\\students-list\\students-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Student } from '../student.model';\nimport { Test } from '../test.model';\nimport { studentService } from '../studentService.service';\nimport { Router } from '@angular/router';\n@Component({\n  selector: 'students-list',\n  templateUrl:'./students-list.component.html',\n  styleUrls: ['./students-list.component.scss']\n})\nexport class StudentsListComponent implements OnInit{\n  students:Student[]=[];\n\n  ngOnInit(): void {\n   this.sS?.getStudents().subscribe(students=>this.students=students,err=>{console.log(\"err\");})\n  }\n  sS?:studentService;\n  selectedStudent?:Student;\n  selectedTestList?:Test[]|undefined;\n  selectedIdStudent?:number;\n  constructor(private _studentService:studentService,private _router:Router,private acr){\n  this.sS=_studentService;\n}\ndeleteStudent(student:Student){\n  let indexOfStudent=this.students.indexOf(student);\n  this.students.splice(indexOfStudent,1);\n  this.sS?.deleteStudent(student).subscribe(s=>console.log(\"succeed\"),err=>console.log(\"err\"));\n  if(student==this.selectedStudent)\n    this.selectedStudent=undefined;\n  if(student.id==this.selectedIdStudent){\n    this.selectedIdStudent=undefined;\n    this.selectedTestList=undefined;\n  }\n}\nshowStudentByActive(active:boolean){\nthis.sS?.getStudentsActive(active).subscribe(s=>this.students=s,err=>console.log(\"err\"))\n}\nselectS(student:Student){\nthis._router.navigate([\"/students\",student.id]);\nthis.selectedStudent=student;\n}\ndetails(student:Student){\n  student.tests!=undefined?this.selectedTestList=student.tests:this.selectedTestList=undefined;\n  this.selectedIdStudent=student.id;\n}\nstudent?:Student;\nAddStudent(){\n  this.student={id:0,name:\"\",phon:\"\",family:\"\",mail:\"\",addres:\"\",avg:0,active:true};\n  this.selectS(this.student);\n}\naddNewStudentToList(student:Student){\n  this.students.push(student);\n  this.sS?.addStudents(student).subscribe(succeed=>alert(\"succeed\"),err=>{console.log(\"err\")});\n  this.selectedStudent=undefined;\n} \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}