{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Category } from '../../categories/category.model';\nimport Swal from 'sweetalert2';\nexport let AddCourseComponent = class AddCourseComponent {\n  constructor(route, _courseService, _router) {\n    this.route = route;\n    this._courseService = _courseService;\n    this._router = _router;\n    this.categories = [new Category(1, \"j\", \"hjj\"), new Category(2, \"jD\", \"TT\"), new Category(3, \"j33\", \"hjj4\")];\n    this.inputs = ['']; // מערך שמכיל את תיבות הקלט, מתחיל עם תיבה ריקה בהתחלה\n    this.l = this.inputs.length;\n    this.courseForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      startDate: new FormControl('', [Validators.required]),\n      image: new FormControl('', [Validators.required]),\n      learningWay: new FormControl('', [Validators.required]),\n      categoryId: new FormControl('', [Validators.required])\n    });\n    //   this.route.queryParams.subscribe((params: Course ) => {\n    //     if (params) {\n    //       this.course=params;}\n    // });\n  }\n\n  ngOnInit() {\n    console.log(this.course);\n  }\n  onInput(event, index) {\n    const target = event.target;\n    const value = target.value.trim();\n    if (value && index === this.inputs.length - 1) {\n      this.inputs.push(value);\n    } else if (!value && index < this.inputs.length - 1) {\n      this.inputs.splice(index + 1, 1);\n    }\n    this.l = this.inputs.length;\n    // else if(value){ this.inputs[index]=value}\n    console.log(this.inputs);\n  }\n  saveNewCourse() {\n    const courseToAdd = {\n      name: this.courseForm.value.name,\n      startDate: this.courseForm.value.startDate,\n      image: this.courseForm.value.image,\n      categoryId: this.courseForm.value.categoryId,\n      lessonsAmount: this.inputs.length - 1,\n      courseSyllabus: this.inputs,\n      lecturerId: +JSON.parse(sessionStorage.getItem('userName')),\n      learningWay: +this.courseForm.value.learningWay\n    };\n    console.log(courseToAdd);\n    this._courseService.addCourse(courseToAdd).subscribe(s => {\n      console.log(\"s\", s);\n      if (s == true) {\n        Swal.fire(\"Success\", \"The course was saved successfully!!!\", \"success\");\n        this._router.navigate(['/allCourses']);\n      } else Swal.fire('Error', 'Wrong Password', 'error');\n    });\n  }\n};\n__decorate([Input()], AddCourseComponent.prototype, \"course\", void 0);\nAddCourseComponent = __decorate([Component({\n  selector: 'app-add-course',\n  templateUrl: './add-course.component.html',\n  styleUrls: ['./add-course.component.scss']\n})], AddCourseComponent);","map":{"version":3,"names":["Component","Input","FormControl","FormGroup","Validators","Category","Swal","AddCourseComponent","constructor","route","_courseService","_router","categories","inputs","l","length","courseForm","name","required","minLength","startDate","image","learningWay","categoryId","ngOnInit","console","log","course","onInput","event","index","target","value","trim","push","splice","saveNewCourse","courseToAdd","lessonsAmount","courseSyllabus","lecturerId","JSON","parse","sessionStorage","getItem","addCourse","subscribe","s","fire","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\modules\\Courses\\add-course\\add-course.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Course, LearningWay } from '../course.model';\nimport { Category } from '../../categories/category.model';\nimport { CourseService } from '../course.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport Swal from 'sweetalert2';\n@Component({\n  selector: 'app-add-course',\n  templateUrl: './add-course.component.html',\n  styleUrls: ['./add-course.component.scss']\n})\nexport class AddCourseComponent implements OnInit{\n  @Input()\n  course?:Course;\n  categories: Category[] = [new Category(1, \"j\", \"hjj\"),new Category(2, \"jD\", \"TT\"),new Category(3, \"j33\", \"hjj4\")]; \n   courseForm: FormGroup;\n  constructor(private route: ActivatedRoute,private _courseService: CourseService,private _router: Router) {\n    this.courseForm = new FormGroup({\n      name: new FormControl('', [Validators.required, Validators.minLength(2)]),\n      startDate: new FormControl('', [Validators.required]),\n      image: new FormControl('', [Validators.required]),\n      learningWay:new FormControl('',[Validators.required]),\n      categoryId:new FormControl('',[Validators.required])\n    });\n  //   this.route.queryParams.subscribe((params: Course ) => {\n  //     if (params) {\n  //       this.course=params;}\n  // });\n  }\n  ngOnInit(): void {\n    console.log(this.course)\n  }\n  inputs: string[] = ['']; // מערך שמכיל את תיבות הקלט, מתחיל עם תיבה ריקה בהתחלה\n   l:number=this.inputs.length;\n  onInput(event: Event, index: number): void {\n   \n    const target = event.target as HTMLInputElement;\n    const value = target.value.trim();\n\n    if (value && index === this.inputs.length - 1) {\n      this.inputs.push(value);\n    } else if (!value && index < this.inputs.length - 1) {\n      this.inputs.splice(index + 1, 1);\n     }\n     this.l=this.inputs.length;\n    // else if(value){ this.inputs[index]=value}\n    console.log(this.inputs)\n  }\n  saveNewCourse(){\n    const courseToAdd = {\n      name: this.courseForm.value.name,\n      startDate: this.courseForm.value.startDate,\n      image: this.courseForm.value.image,\n      categoryId: this.courseForm.value.categoryId,\n      lessonsAmount: this.inputs.length-1,\n      courseSyllabus:this.inputs,\n      lecturerId:+JSON.parse(sessionStorage.getItem('userName')!),\n      learningWay: +this.courseForm.value.learningWay};\n      console.log(courseToAdd)\n      this._courseService.addCourse(courseToAdd).subscribe(s => {\n      console.log(\"s\", s);\n      if (s == true){\n        Swal.fire(\"Success\",\"The course was saved successfully!!!\",\"success\");\n        this._router.navigate(['/allCourses']);\n      }\n      else\n      Swal.fire('Error', 'Wrong Password', 'error');\n    })\n  }\n \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}