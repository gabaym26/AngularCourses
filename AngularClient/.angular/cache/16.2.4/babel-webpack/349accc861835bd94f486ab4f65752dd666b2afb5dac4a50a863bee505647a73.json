{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let StudentsListComponent = class StudentsListComponent {\n  ngOnInit() {\n    this.sS?.getStudents().subscribe(students => this.students = students, err => {\n      console.log(\"err\");\n    });\n  }\n  constructor(_studentService) {\n    this._studentService = _studentService;\n    this.students = [];\n    this.sS = _studentService;\n  }\n  deleteStudent(student) {\n    let indexOfStudent = this.students.indexOf(student);\n    this.students.splice(indexOfStudent, 1);\n    this.sS?.deleteStudent(student).subscribe(s => console.log(\"succeed\"), err => console.log(\"err\"));\n    if (student == this.selectedStudent) this.selectedStudent = undefined;\n    if (student.id == this.selectedIdStudent) {\n      this.selectedIdStudent = undefined;\n      this.selectedTestList = undefined;\n    }\n  }\n  showStudentByActive(active) {\n    this.students;\n  }\n  selectS(student) {\n    this.selectedStudent = student;\n  }\n  details(student) {\n    student.tests != undefined ? this.selectedTestList = student.tests : this.selectedTestList = undefined;\n    this.selectedIdStudent = student.id;\n  }\n  AddStudent() {\n    this.student = {\n      id: 0,\n      name: \"\",\n      phon: \"\",\n      family: \"\",\n      mail: \"\",\n      addres: \"\",\n      avg: 0,\n      active: true\n    };\n    this.selectS(this.student);\n  }\n  addNewStudentToList(student) {\n    this.students.push(student);\n    this.sS?.addStudents(student).subscribe(succeed => alert(\"succeed\"), err => {\n      console.log(\"err\");\n    });\n    this.selectedStudent = undefined;\n  }\n};\nStudentsListComponent = __decorate([Component({\n  selector: 'students-list',\n  templateUrl: './students-list.component.html',\n  styleUrls: ['./students-list.component.scss']\n})], StudentsListComponent);","map":{"version":3,"names":["Component","StudentsListComponent","ngOnInit","sS","getStudents","subscribe","students","err","console","log","constructor","_studentService","deleteStudent","student","indexOfStudent","indexOf","splice","s","selectedStudent","undefined","id","selectedIdStudent","selectedTestList","showStudentByActive","active","selectS","details","tests","AddStudent","name","phon","family","mail","addres","avg","addNewStudentToList","push","addStudents","succeed","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\students-list\\students-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Student } from '../student.model';\nimport { Test } from '../test.model';\nimport { studentService } from '../studentService.service';\nimport { Task } from 's/app/task.model';\n@Component({\n  selector: 'students-list',\n  templateUrl:'./students-list.component.html',\n  styleUrls: ['./students-list.component.scss']\n\n})\nexport class StudentsListComponent implements OnInit{\n  students:Student[]=[];\n\n  ngOnInit(): void {\n   this.sS?.getStudents().subscribe(students=>this.students=students,err=>{console.log(\"err\");})\n  }\n  sS?:studentService;\n  selectedStudent?:Student;\n  selectedTestList?:Test[]|undefined;\n  selectedIdStudent?:number;\nconstructor(private _studentService:studentService ){\n  this.sS=_studentService;\n}\ndeleteStudent(student:Student){\n  let indexOfStudent=this.students.indexOf(student);\n  this.students.splice(indexOfStudent,1);\n  this.sS?.deleteStudent(student).subscribe(s=>console.log(\"succeed\"),err=>console.log(\"err\"));\n  if(student==this.selectedStudent)\n    this.selectedStudent=undefined;\n  if(student.id==this.selectedIdStudent){\n    this.selectedIdStudent=undefined;\n    this.selectedTestList=undefined;\n  }\n}\nshowStudentByActive(active:boolean){\nthis.students\n}\nselectS(student:Student){\nthis.selectedStudent=student;\n}\ndetails(student:Student){\n  student.tests!=undefined?this.selectedTestList=student.tests:this.selectedTestList=undefined;\n  this.selectedIdStudent=student.id;\n}\nstudent?:Student;\nAddStudent(){\n  this.student={id:0,name:\"\",phon:\"\",family:\"\",mail:\"\",addres:\"\",avg:0,active:true};\n  this.selectS(this.student);\n}\naddNewStudentToList(student:Student){\n  this.students.push(student);\n  this.sS?.addStudents(student).subscribe(succeed=>alert(\"succeed\"),err=>{console.log(\"err\")});\n  this.selectedStudent=undefined;\n} \n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAGhCC,QAAQA,CAAA;IACP,IAAI,CAACC,EAAE,EAAEC,WAAW,EAAE,CAACC,SAAS,CAACC,QAAQ,IAAE,IAAI,CAACA,QAAQ,GAACA,QAAQ,EAACC,GAAG,IAAE;MAACC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAAC,CAAC,CAAC;EAC9F;EAKFC,YAAoBC,eAA8B;IAA9B,KAAAA,eAAe,GAAfA,eAAe;IATjC,KAAAL,QAAQ,GAAW,EAAE;IAUrB,IAAI,CAACH,EAAE,GAACQ,eAAe;EACzB;EACAC,aAAaA,CAACC,OAAe;IAC3B,IAAIC,cAAc,GAAC,IAAI,CAACR,QAAQ,CAACS,OAAO,CAACF,OAAO,CAAC;IACjD,IAAI,CAACP,QAAQ,CAACU,MAAM,CAACF,cAAc,EAAC,CAAC,CAAC;IACtC,IAAI,CAACX,EAAE,EAAES,aAAa,CAACC,OAAO,CAAC,CAACR,SAAS,CAACY,CAAC,IAAET,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,EAACF,GAAG,IAAEC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC,CAAC;IAC5F,IAAGI,OAAO,IAAE,IAAI,CAACK,eAAe,EAC9B,IAAI,CAACA,eAAe,GAACC,SAAS;IAChC,IAAGN,OAAO,CAACO,EAAE,IAAE,IAAI,CAACC,iBAAiB,EAAC;MACpC,IAAI,CAACA,iBAAiB,GAACF,SAAS;MAChC,IAAI,CAACG,gBAAgB,GAACH,SAAS;;EAEnC;EACAI,mBAAmBA,CAACC,MAAc;IAClC,IAAI,CAAClB,QAAQ;EACb;EACAmB,OAAOA,CAACZ,OAAe;IACvB,IAAI,CAACK,eAAe,GAACL,OAAO;EAC5B;EACAa,OAAOA,CAACb,OAAe;IACrBA,OAAO,CAACc,KAAK,IAAER,SAAS,GAAC,IAAI,CAACG,gBAAgB,GAACT,OAAO,CAACc,KAAK,GAAC,IAAI,CAACL,gBAAgB,GAACH,SAAS;IAC5F,IAAI,CAACE,iBAAiB,GAACR,OAAO,CAACO,EAAE;EACnC;EAEAQ,UAAUA,CAAA;IACR,IAAI,CAACf,OAAO,GAAC;MAACO,EAAE,EAAC,CAAC;MAACS,IAAI,EAAC,EAAE;MAACC,IAAI,EAAC,EAAE;MAACC,MAAM,EAAC,EAAE;MAACC,IAAI,EAAC,EAAE;MAACC,MAAM,EAAC,EAAE;MAACC,GAAG,EAAC,CAAC;MAACV,MAAM,EAAC;IAAI,CAAC;IACjF,IAAI,CAACC,OAAO,CAAC,IAAI,CAACZ,OAAO,CAAC;EAC5B;EACAsB,mBAAmBA,CAACtB,OAAe;IACjC,IAAI,CAACP,QAAQ,CAAC8B,IAAI,CAACvB,OAAO,CAAC;IAC3B,IAAI,CAACV,EAAE,EAAEkC,WAAW,CAACxB,OAAO,CAAC,CAACR,SAAS,CAACiC,OAAO,IAAEC,KAAK,CAAC,SAAS,CAAC,EAAChC,GAAG,IAAE;MAACC,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAAA,CAAC,CAAC;IAC5F,IAAI,CAACS,eAAe,GAACC,SAAS;EAChC;CACC;AA5CYlB,qBAAqB,GAAAuC,UAAA,EANjCxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAC,gCAAgC;EAC5CC,SAAS,EAAE,CAAC,gCAAgC;CAE7C,CAAC,C,EACW1C,qBAAqB,CA4CjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}