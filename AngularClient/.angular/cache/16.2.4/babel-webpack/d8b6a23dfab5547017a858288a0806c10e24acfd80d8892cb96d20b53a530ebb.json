{"ast":null,"code":"import { from, interval, Observable } from 'rxjs';\nimport { map } from \"rxjs/operators\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../studentService.service\";\nexport class ObservableComponent {\n  constructor(_studentService) {\n    this._studentService = _studentService;\n    this.students = [];\n    this.timerValue = \"\";\n    this.students = _studentService.getStudents();\n    this.studentsNames.subscribe(val => {\n      console.log(\"the name is: \" + val);\n    });\n    this.studentsNames2.subscribe(val => {\n      console.log(\"the name is: \" + val);\n    });\n    this.timer.subscribe(val => {\n      this.timerValue = val;\n    });\n    this.mail.subscribe(val => {\n      this.timerValue = val;\n    });\n    // this.timerByOperator.subscribe((val) => {\n    //   this.timerValue = val.toLocaleTimeString();\n    // })\n  }\n  static #_ = this.ɵfac = function ObservableComponent_Factory(t) {\n    return new (t || ObservableComponent)(i0.ɵɵdirectiveInject(i1.studentService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ObservableComponent,\n    selectors: [[\"observable\"]],\n    decls: 2,\n    vars: 1,\n    template: function ObservableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.timerValue);\n      }\n    },\n    encapsulation: 2\n  });\n}\nnew Observable(obs => {\n  setInterval(() => {\n    obs.next(new Date().toLocaleTimeString());\n  }, 1000);\n});\ntimerByOperator: Observable = interval(1000).pipe(map(x => {\n  return new Date().toLocaleTimeString();\n}));\nmail: Observable < string >= new Observable(obs => {\n  this.students?.forEach(a => {\n    if (a.active) {\n      obs.next(\"The email was send successfully to: \" + a.mail);\n    }\n  });\n});\nstudentsNames: Observable = new Observable(obs => {\n  for (var i = 0; i < (this.students ? this.students.length : 0); i++) {\n    obs.next(this.students ? this.students[i].name : \"\");\n  }\n});\nstudentsNames2: Observable = from(this.students ? this.students : []).pipe(map(x => {\n  return x.name;\n}));\nngOnInit();\nvoid {};","map":{"version":3,"names":["from","interval","Observable","map","ObservableComponent","constructor","_studentService","students","timerValue","getStudents","studentsNames","subscribe","val","console","log","studentsNames2","timer","mail","_","i0","ɵɵdirectiveInject","i1","studentService","_2","selectors","decls","vars","template","ObservableComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","obs","setInterval","next","Date","toLocaleTimeString","timerByOperator","pipe","x","string","forEach","a","active","i","length","name","ngOnInit"],"sources":["E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\ObservableComponent\\ObservableComponent.ts","E:\\מיכל גבאי\\תכנות\\אנגולר\\firstProject\\src\\app\\ObservableComponent\\ObservableComponent.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { from, interval, Observable } from 'rxjs';\r\nimport { filter, map } from \"rxjs/operators\";\r\nimport { studentService } from '../studentService.service';\r\nimport { Student } from '../student.model';\r\n\r\n@Component({\r\n  selector: 'observable',\r\n  templateUrl: './ObservableComponent.html'\r\n})\r\nexport class ObservableComponent implements OnInit {\r\n  students?: Student[] = [];\r\n  constructor(private _studentService: studentService) {\r\n    this.students = _studentService.getStudents();\r\n    this.studentsNames.subscribe(\r\n      (val) => {\r\n        console.log(\"the name is: \" + val);\r\n      })\r\n    this.studentsNames2.subscribe(\r\n      (val) => {\r\n        console.log(\"the name is: \" + val);\r\n      })\r\n      this.timer.subscribe((val)=>{this.timerValue=val;})\r\n      this.mail.subscribe((val)=>{this.timerValue=val;})\r\n    // this.timerByOperator.subscribe((val) => {\r\n    //   this.timerValue = val.toLocaleTimeString();\r\n    // })\r\n  }\r\n\r\n  timerValue: string = \"\";\r\nmail:\r\n  timer: Observable<string> = new Observable(obs => {\r\n    setInterval(() => {\r\n      obs.next(new Date().toLocaleTimeString());\r\n    }, 1000);\r\n  });\r\n  timerByOperator: Observable<string> = interval(1000).pipe(map(x => { return new Date().toLocaleTimeString();}));\r\n  mail:Observable<string>=new Observable((obs=>{\r\n    this.students?.forEach(a => {\r\n      if(a.active){\r\n        obs.next(\"The email was send successfully to: \"+a.mail);\r\n      }\r\n    });\r\n  }));\r\n  studentsNames: Observable<string> = new Observable(obs => {\r\n    for (var i = 0; i < (this.students ? this.students.length : 0); i++) {\r\n      obs.next(this.students ? this.students[i].name : \"\");\r\n    }\r\n  });\r\n\r\n  studentsNames2: Observable<string> = from(this.students ? this.students : []).pipe(map(x => { return x.name; }))\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div>{{timerValue}}</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}